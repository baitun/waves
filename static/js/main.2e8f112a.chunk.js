(window.webpackJsonpwaves=window.webpackJsonpwaves||[]).push([[0],{130:function(e,t){},232:function(e,t,a){e.exports={cards:"Cards_cards__314Rx"}},236:function(e,t,a){e.exports={section:"Section_section__Ap5Zy"}},251:function(e,t,a){e.exports=a(490)},256:function(e,t,a){},490:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),l=a.n(c),i=(a(256),a(58)),o=a(498),u=a(41),s=a(31),m=a.n(s),d=a(247),p=a(69);a(124),Math.pow(10,8);function f(e){return fetch(e).then(function(e){return e.json()})}var E="3MvoQ3q8wFnquWFPSZuBGunTnE1fphumBxd";function v(e){return"https://nodes-testnet.wavesnodes.com/addresses/data/".concat(E,"?matches=")+e}function b(){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(m.a.mark(function e(){var t,a,n,r,c=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:".*",e.next=3,f(v(t+"_organizer"));case 3:for(a=e.sent,n=[],r=0;r<a.length;r++)n.push.apply(n,Object(d.a)(a[r].value.trim().split(" ")));return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(m.a.mark(function e(t){var a,n,r,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(v(t+"_.*"));case 2:for(a=e.sent,n={id:a[0].key.split("_")[0]},r=0;r<a.length;r++)c=a[r].key.substr(a[r].key.indexOf("_")+1),l=a[r].value,n[c]=l;return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return(O=Object(p.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return a=e.sent,n=a.map(function(e){return y(e)}),e.next=6,Promise.all(n);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=a(495),k=a(9),_=a(90),j=a.n(_),C=a(51),x=a.n(C),I=function(e){var t=e.item;return r.a.createElement("div",{className:x.a.attributes},r.a.createElement("div",null,r.a.createElement(k.a,{type:"user"})," ",t.organizer),r.a.createElement("div",null,r.a.createElement(k.a,{type:"clock-circle"})," Ends ",j()().to(0)),r.a.createElement("div",null,r.a.createElement(k.a,{type:"money-collect"})," ",t.startPrice," Waves"),r.a.createElement("div",null,r.a.createElement(k.a,{type:"number"})," ",t.unrevealed_count," bids"))};function S(e){return"https://placekitten.com/800/400?image="+e.id.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0)%15}var N=function(e){var t=e.item;return r.a.createElement("div",{className:x.a.card,onClick:function(){return Object(u.navigate)("/waves/bid/".concat(t.id))}},r.a.createElement("img",{src:S(t),alt:""}),r.a.createElement(g.a.Title,{className:x.a.title,level:4},t.id),r.a.createElement(I,{item:t}))},T=function(){return r.a.createElement("div",{className:"".concat(x.a.card," ").concat(x.a.add),onClick:function(){return Object(u.navigate)("/waves/create")},title:"Create a new lot"},r.a.createElement(k.a,{className:x.a.add,type:"plus"}))},A=a(232),W=a.n(A),F=function(e){var t=e.items;return r.a.createElement("div",{className:W.a.cards},r.a.createElement(T,null),t.map(function(e){return r.a.createElement(N,{key:e.id,item:e})}))},P=a(233),z=a(234),B=a(248),D=a(235),K=a(249),R=a(95),V=a(494),H=a(496),M=a(497),U=a(493),L=a(59),J=a(236),Z=a.n(J),q=function(e){var t=e.children;return r.a.createElement("div",{className:Z.a.section},t)},G=R.a.Option,Q=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a}return Object(K.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(q,null,r.a.createElement(g.a.Title,null,"Create new lot"),r.a.createElement(V.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{onSubmit:this.handleSubmit}),r.a.createElement(V.a.Item,{label:"Name"},e("input-name",{})(r.a.createElement(H.a,null))),r.a.createElement(V.a.Item,{label:"Currency",hasFeedback:!0},e("select",{})(r.a.createElement(R.a,{placeholder:"Please select a currency"},r.a.createElement(G,{value:"WAVES"},"WAVES"),r.a.createElement(G,{value:"BTC"},"BTC")))),r.a.createElement(V.a.Item,{label:"Start price"},e("input-number-start-price",{})(r.a.createElement(M.a,{step:.01}))),r.a.createElement(V.a.Item,{label:"Deposit"},e("input-number-deposit",{})(r.a.createElement(M.a,{step:.01}))),r.a.createElement(V.a.Item,{label:"Image"},e("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile})(r.a.createElement(U.a,{name:"logo",action:"/upload.do",listType:"picture"},r.a.createElement(L.a,null,r.a.createElement(k.a,{type:"upload"})," Click to upload")))),r.a.createElement(V.a.Item,{wrapperCol:{span:12,offset:6}},r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Create"))))}}]),t}(r.a.Component),X=V.a.create({name:"validate_other"})(Q),Y=a(492),$=[{title:"key",dataIndex:"key"},{title:"value",dataIndex:"value"}],ee=function(e){var t=e.item,a={"Auction id ":t.id,"Max bid ":t.deposit,"Amount ":t.lot_amount,"Lot id ":t.lot_assetId,"Organizer address ":t.organizer,"Currency ":t.priceAssetId,"Start bid ":t.startPrice,"Time left for bids ":"@TODO","Second price":t.second_price?t.second_price:"Will be known after time left for bids complete","Top price ":t.top_price?t.top_price:"Will be known after time left for bids completed","Unrevealed count":t.unrevealed_count?t.unrevealed_count:"Will be known after time left for bids completed","Time left for reveal bids":"@TODO closing_start - today",Settle:t.settle?"Winner took the prize":"The prize is held by the organizer"},n=Object.entries(a).map(function(e){var t=Object(i.a)(e,2);return{key:t[0],value:t[1]}});return r.a.createElement(Y.a,{columns:$,dataSource:n,pagination:!1,showHeader:!1})},te=function(e){var t=e.id,a=e.items,c=Object(n.useState)(void 0),l=Object(i.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),d=m[0],p=m[1];return Object(n.useEffect)(function(){u(a.find(function(e){return e.id===t})||a[0])},[t,a]),Object(n.useEffect)(function(){},[o]),void 0===o?r.a.createElement(r.a.Fragment,null,"Not found"):r.a.createElement(q,null,r.a.createElement(g.a.Title,{level:1},o.id),r.a.createElement("img",{src:S(o),alt:""}),r.a.createElement(ee,{item:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{value:d,min:0,formatter:function(e){return e?(+e/100).toFixed(2):""},parser:function(e){return e?100*parseFloat(e):0},onChange:function(e){return e&&p(e)}})," ",r.a.createElement(L.a,{type:"primary"},"Bid"))},ae=a(491),ne=a(163),re=function(e){var t=e.state,a=Object(u.usePath)();return r.a.createElement(ae.a.Header,null,r.a.createElement("div",{style:{float:"left",color:"white",marginRight:20}},"WAVES BIDS"),r.a.createElement(ne.a,{theme:"dark",mode:"horizontal",selectedKeys:[a],style:{lineHeight:"64px"},onClick:function(e){Object(u.navigate)(e.key)}},r.a.createElement(ne.a.Item,{key:"/waves/"},"All lots"),r.a.createElement(ne.a.Item,{key:"/waves/create"},"New lot"),r.a.createElement(ne.a.SubMenu,{title:r.a.createElement("span",{className:"submenu-title-wrapper"},r.a.createElement(k.a,{type:"user"}),t&&t.account&&t.account.name||"NOT AUTHORIZED"),style:{float:"right"}},r.a.createElement(ne.a.Item,{disabled:!0,key:"adress"},t&&t.account&&t.account.address),r.a.createElement(ne.a.ItemGroup,{title:"Info"},r.a.createElement(ne.a.Item,{disabled:!0,key:"balance-available"},"Balance:"," ",t&&t.account&&t.account.balance.available," WAVES"),r.a.createElement(ne.a.Item,{disabled:!0,key:"network"},"Network: ",t&&t.account&&t.account.network)))))},ce=function(e){var t=e.children,a=e.state;return r.a.createElement(ae.a,{className:"layout"},r.a.createElement(re,{state:a}),r.a.createElement(ae.a.Content,null,t),r.a.createElement(ae.a.Footer,null))},le=function(){Object(u.useRedirect)("/","/waves/");var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),s=Object(i.a)(l,2),m=s[0],d=s[1];Object(n.useEffect)(function(){new Promise(function(e,t){window.onload=function(){if("undefined"===typeof WavesKeeper)return t("Keeper is not installed!");WavesKeeper.initialPromise.then(function(t){t.publicState().then(function(t){console.log({state:t}),e(t)})})}}).then(function(e){c(e)}).catch(function(e){o.a.error({message:e,description:"You need to install and configure Waves Keeper chrome extension in order to use this site!"})})},[]),Object(n.useEffect)(function(){(function(e){return O.apply(this,arguments)})("3MvxXxJcuELB2UaCHKVQaUszu8u3NmXxoWr").then(function(e){d(e)})},[]);var p={"/waves/":function(){return r.a.createElement(F,{items:m||[]})},"/waves/create":function(){return r.a.createElement(X,null)},"/waves/bid/:id":function(e){var t=e.id;return r.a.createElement(te,{id:t,items:m||[]})}},f=Object(u.useRoutes)(p);return r.a.createElement(ce,{state:a},f||"404. Page not found")};l.a.render(r.a.createElement(le,null),document.getElementById("root"))},51:function(e,t,a){e.exports={card:"Card_card__1eE8R",add:"Card_add__1pgKF",title:"Card_title__2pVhP",attributes:"Card_attributes__16E1C"}}},[[251,1,2]]]);
//# sourceMappingURL=main.2e8f112a.chunk.js.map